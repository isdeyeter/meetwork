---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Komisyon Hesaplama AracÄ± - E-Ticaret PlatformlarÄ± Komisyon HesaplayÄ±cÄ±">
  
  <section class="py-5">
    <div class="container">
      
      <!-- BaÅŸlÄ±k & AÃ§Ä±klama -->
      <div class="text-center mb-5">
        <h1 class="display-5 fw-bold text-danger mb-4">
          E-Ticaret Pazaryerleri Komisyon Hesaplama AracÄ±
        </h1>
        
        <p class="lead text-muted mb-4">
          E-ticaret platformlarÄ± Ã¼rÃ¼n komisyonlarÄ±nÄ± en doÄŸru ve kolay ÅŸekilde hesaplamak iÃ§in aÅŸaÄŸÄ±daki komisyon hesaplama aracÄ±nÄ± kullanabilirsiniz.
        </p>

        <!-- HÄ±zlÄ± EriÅŸim ButonlarÄ± -->
        <div class="row g-3 mb-4">
          <div class="col-md-3 col-6">
            <a href="/dijital-donusum/e-ticaret-ve-internetten-satis" class="btn btn-outline-primary w-100 h-100 py-3">
              <div class="fw-bold">E-Ticaret Paketine mi ihtiyacÄ±n var?</div>
            </a>
          </div>
          <div class="col-md-3 col-6">
            <a href="/dijital-donusum/on-muhasebe-magazacilik-edonusum-erp" class="btn btn-outline-success w-100 h-100 py-3">
              <div class="fw-bold">E-DÃ¶nÃ¼ÅŸÃ¼m Paketine mi ihtiyacÄ±n var?</div>
            </a>
          </div>
          <div class="col-md-3 col-6">
            <a href="/dijital-donusum/on-muhasebe-magazacilik-edonusum-erp" class="btn btn-outline-info w-100 h-100 py-3">
              <div class="fw-bold">Muhasebe ProgramÄ±na mÄ± ihtiyacÄ±n var?</div>
            </a>
          </div>
          <div class="col-md-3 col-6">
            <a href="/dijital-donusum/hibe-destek-kredi" class="btn btn-outline-danger w-100 h-100 py-3">
              <div class="fw-bold">Hibe Destek ve Krediye mi Ä°htiyaÃ§ Duyuyorsun?</div>
            </a>
          </div>
        </div>
      </div>

      <!-- Pazaryeri SeÃ§imi - GÃ¼ncellenmiÅŸ Versiyon -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card border-0 shadow-sm">
            <div class="card-body">
              <h5 class="card-title text-danger mb-4 text-center fs-4">Pazaryeri SeÃ§in</h5>
              <div class="row g-3">
                <!-- Trendyol -->
                <div class="col-md-2 col-4">
                  <input type="radio" class="btn-check" name="marketplace" id="trendyol" value="trendyol" checked>
                  <label class="btn btn-outline-primary w-100 h-100 py-3 d-flex flex-column align-items-center justify-content-center marketplace-card" for="trendyol">
                    <span class="marketplace-icon mb-2">ğŸ›ï¸</span>
                    <span class="marketplace-name fw-bold fs-6">Trendyol</span>
                  </label>
                </div>
                
                <!-- n11 -->
                <div class="col-md-2 col-4">
                  <input type="radio" class="btn-check" name="marketplace" id="n11" value="n11">
                  <label class="btn btn-outline-primary w-100 h-100 py-3 d-flex flex-column align-items-center justify-content-center marketplace-card" for="n11">
                    <span class="marketplace-icon mb-2">ğŸ›’</span>
                    <span class="marketplace-name fw-bold fs-6">n11</span>
                  </label>
                </div>
                
                <!-- Hepsiburada -->
                <div class="col-md-2 col-4">
                  <input type="radio" class="btn-check" name="marketplace" id="hepsiburada" value="hepsiburada">
                  <label class="btn btn-outline-primary w-100 h-100 py-3 d-flex flex-column align-items-center justify-content-center marketplace-card" for="hepsiburada">
                    <span class="marketplace-icon mb-2">ğŸ“¦</span>
                    <span class="marketplace-name fw-bold fs-6">Hepsiburada</span>
                  </label>
                </div>
                
                <!-- Amazon -->
                <div class="col-md-2 col-4">
                  <input type="radio" class="btn-check" name="marketplace" id="amazon" value="amazon">
                  <label class="btn btn-outline-primary w-100 h-100 py-3 d-flex flex-column align-items-center justify-content-center marketplace-card" for="amazon">
                    <span class="marketplace-icon mb-2">ğŸŒ</span>
                    <span class="marketplace-name fw-bold fs-6">Amazon</span>
                  </label>
                </div>
                
                <!-- Ã‡iÃ§ekSepeti -->
                <div class="col-md-2 col-4">
                  <input type="radio" class="btn-check" name="marketplace" id="ciceksepeti" value="ciceksepeti">
                  <label class="btn btn-outline-primary w-100 h-100 py-3 d-flex flex-column align-items-center justify-content-center marketplace-card" for="ciceksepeti">
                    <span class="marketplace-icon mb-2">ğŸ’</span>
                    <span class="marketplace-name fw-bold fs-6">Ã‡iÃ§ekSepeti</span>
                  </label>
                </div>
                
                <!-- Etsy -->
                <div class="col-md-2 col-4">
                  <input type="radio" class="btn-check" name="marketplace" id="etsy" value="etsy">
                  <label class="btn btn-outline-primary w-100 h-100 py-3 d-flex flex-column align-items-center justify-content-center marketplace-card" for="etsy">
                    <span class="marketplace-icon mb-2">ğŸ¨</span>
                    <span class="marketplace-name fw-bold fs-6">Etsy</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <!-- Hesaplama Formu -->
        <div class="col-md-6">
          <div class="card border-0 shadow-sm h-100">
            <div class="card-body">
              <h5 class="card-title text-primary mb-4">Komisyon Hesaplama</h5>
              
              <form id="commissionForm">
                <!-- ÃœrÃ¼n Kategorisi -->
                <div class="mb-3">
                  <label for="productCategory" class="form-label">ÃœrÃ¼n Kategorisi (SeÃ§im zorunlu deÄŸil)</label>
                  <select class="form-select" id="productCategory">
                    <option value="">Kategori seÃ§in</option>
                    <option value="moda">Moda (%18-30)</option>
                    <option value="elektronik">Elektronik (%5-15)</option>
                    <option value="ev-yasam">Ev & YaÅŸam (%15-25)</option>
                    <option value="kozmetik">Kozmetik (%12-20)</option>
                    <option value="spor">Spor & Outdoor (%10-18)</option>
                    <option value="supermarket">SÃ¼permarket (%8-15)</option>
                    <option value="oyuncak">Oyuncak (%12-20)</option>
                    <option value="kitap">Kitap (%10-15)</option>
                  </select>
                </div>

                <!-- Komisyon OranÄ± -->
                <div class="mb-3">
                  <label for="commissionRate" class="form-label">Komisyon OranÄ±: <span id="commissionValue">0</span>%</label>
                  <input type="range" class="form-range" id="commissionRate" min="0" max="30" step="0.5" value="0">
                  <div class="form-text">(OranÄ± deÄŸiÅŸtirebilirsiniz)</div>
                </div>

                <!-- AlÄ±ÅŸ FiyatÄ± -->
                <div class="mb-3">
                  <label for="purchasePrice" class="form-label"><b>AlÄ±ÅŸ FiyatÄ±</b></label>
                  <div class="input-group">
                    <input type="number" class="form-control" id="purchasePrice" value="0" min="0">
                    <span class="input-group-text">â‚º</span>
                  </div>
                </div>

                <!-- SatÄ±ÅŸ FiyatÄ± -->
                <div class="mb-3">
                  <label for="salePrice" class="form-label">SatÄ±ÅŸ FiyatÄ±</label>
                  <div class="input-group">
                    <input type="number" class="form-control" id="salePrice" value="0" min="0">
                    <span class="input-group-text">â‚º</span>
                  </div>
                  <div class="form-check mt-2">
                    <input class="form-check-input" type="checkbox" id="priceIncludesVAT" checked>
                    <label class="form-check-label" for="priceIncludesVAT">
                      KDV Dahil
                    </label>
                  </div>
                </div>

                <!-- KDV OranÄ± -->
                <div class="mb-3">
                  <label class="form-label">KDV OranÄ±</label>
                  <div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="vatRate" id="vat20" value="20" checked>
                      <label class="form-check-label" for="vat20">%20</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="vatRate" id="vat10" value="10">
                      <label class="form-check-label" for="vat10">%10</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="vatRate" id="vat1" value="1">
                      <label class="form-check-label" for="vat1">%1</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="vatRate" id="vatOther" value="0">
                      <label class="form-check-label" for="vatOther">DiÄŸer</label>
                    </div>
                  </div>
                </div>

                <!-- Kargo Ãœcreti -->
                <div class="mb-3">
                  <label for="shippingCost" class="form-label">Kargo Ãœcreti</label>
                  <div class="input-group">
                    <input type="number" class="form-control" id="shippingCost" value="0" min="0">
                    <span class="input-group-text">â‚º</span>
                  </div>
                  <div class="form-check mt-2">
                    <input class="form-check-input" type="radio" name="shippingPaidBy" id="shippingSeller" value="seller" checked>
                    <label class="form-check-label" for="shippingSeller">
                      Kargo SatÄ±cÄ±ya Ait
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="shippingPaidBy" id="shippingBuyer" value="buyer">
                    <label class="form-check-label" for="shippingBuyer">
                      Kargo AlÄ±cÄ±ya Ait
                    </label>
                  </div>
                </div>

                <!-- Hizmet Bedeli -->
                <div class="mb-4">
                  <label for="serviceFee" class="form-label">Hizmet Bedeli</label>
                  <div class="input-group">
                    <input type="number" class="form-control" id="serviceFee" value="0" min="0">
                    <span class="input-group-text">â‚º</span>
                  </div>
                  <div class="form-check mt-2">
                    <input class="form-check-input" type="checkbox" id="serviceFeeIncludesVAT" checked>
                    <label class="form-check-label" for="serviceFeeIncludesVAT">
                      KDV Dahil
                    </label>
                  </div>
                </div>

                <!-- Butonlar -->
                <div class="d-grid gap-2 d-md-flex">
                  <button type="button" class="btn btn-outline-secondary flex-fill" id="clearBtn">
                    ğŸ—‘ï¸ Temizle
                  </button>
                  <button type="button" class="btn btn-success flex-fill" id="calculateBtn">
                    ğŸ§® Hesapla
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- SonuÃ§lar -->
        <div class="col-md-6">
          <div class="card border-0 shadow-sm h-100">
            <div class="card-body">
              <h5 class="card-title text-danger mb-4">Hesaplama SonuÃ§larÄ±</h5>
              <h5 class="card-title text-primary mb-4">Kar/Zarar HesabÄ± Yapmadan Ã¼rÃ¼n satÄ±ÅŸÄ± YapmayÄ±nÄ±z</h5>
              
              <div id="results" class="d-none">
                <div class="row g-3">
                  <div class="col-6">
                    <div class="border rounded p-3 text-center">
                      <div class="text-muted small">SatÄ±ÅŸ FiyatÄ± (KDV Dahil)</div>
                      <div class="h5 fw-bold text-success" id="resultSalePriceWithVAT">â‚º0,00</div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="border rounded p-3 text-center">
                      <div class="text-muted small">SatÄ±ÅŸ FiyatÄ± (KDV HariÃ§)</div>
                      <div class="h5 fw-bold" id="resultSalePriceWithoutVAT">â‚º0,00</div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="border rounded p-3 text-center">
                      <div class="text-muted small">AlÄ±ÅŸ FiyatÄ±</div>
                      <div class="h5 fw-bold text-danger" id="resultPurchasePrice">-â‚º0,00</div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="border rounded p-3 text-center">
                      <div class="text-muted small">Komisyon TutarÄ±</div>
                      <div class="h5 fw-bold text-danger" id="resultCommission">-â‚º0,00</div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="border rounded p-3 text-center">
                      <div class="text-muted small">Kargo TutarÄ±</div>
                      <div class="h5 fw-bold text-danger" id="resultShipping">-â‚º0,00</div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="border rounded p-3 text-center">
                      <div class="text-muted small">Hizmet Bedeli</div>
                      <div class="h5 fw-bold text-danger" id="resultServiceFee">-â‚º0,00</div>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="border rounded p-3 text-center bg-light">
                      <div class="d-flex justify-content-between align-items-center">
                        <div>
                          <div class="text-muted small">Net Kar/Zarar</div>
                          <div class="h4 fw-bold" id="resultNetProfit">â‚º0,00</div>
                        </div>
                        <span class="badge bg-success fs-6" id="resultProfitPercentage">%0,00</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div id="noResults" class="text-center py-5">
                <div class="text-muted">
                  <div class="fs-1 mb-3">ğŸ“Š</div>
                  <p>Hesaplama yapmak iÃ§in formu doldurun ve "Hesapla" butonuna tÄ±klayÄ±n.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Destek ButonlarÄ± -->
      <div class="row mt-5">
        <div class="col-12">
          <div class="card border-0 shadow-sm">
            <div class="card-body">
              <h4 class="text-primary mb-4 text-center">ğŸ› ï¸ Pazaryeri Destek Hizmetleri</h4>
              <p class="text-center text-danger mb-4">Pazaryeri Destek, E-Ticaret ve Entegrasyon Hizmetleri ne ihtiyacÄ±n var?</p>
               <p class="text-center text-muted mb-4">Ä°ÅŸ birliÄŸi yaptÄ±ÄŸÄ±mÄ±z Ä°ÅŸ De Yeter Platformu Ã¼zerinden hÄ±zlÄ±ca uzman bulabilirsiniz (Detaylar iÃ§in isdeyeter.com)</p>
              
              <div class="row g-3">
                <!-- Pazaryeri Destek -->
                <div class="col-md-6">
                  <h6 class="text-primary mb-3">ğŸ“ Pazaryeri Destek</h6>
                  <div class="row g-2">
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">Trendyol Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">Hepsiburada Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">n11 Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">Ã‡iÃ§ekSepeti Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">Amazon Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">Cimri Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">AkakÃ§e Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">TeknoSA Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">Pazarama Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">ETSY Destek</a>
                    </div>
                    <div class="col-12">
                      <a href="https://isdeyeter.com/e-ticaret-destegi-295/" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm w-100 mb-2">FarklÄ± Pazaryeri</a>
                    </div>
                  </div>
                </div>

                <!-- E-Ticaret Platform Destek -->
                <div class="col-md-6">
                  <h6 class="text-success mb-3">ğŸŒ E-Ticaret Platform Destek</h6>
                  <div class="row g-2">
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">Shopify Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">PrestaShop Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">Magento Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">WooCommerce Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">Ä°kas Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">Ticimax Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">T-Soft Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">Ä°deasoft Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">ShopPHP Destek</a>
                    </div>
                    <div class="col-6">
                      <a href="https://isdeyeter.com/global-e-ticaret-destegi-296/" target="_blank" rel="noopener" class="btn btn-outline-success btn-sm w-100 mb-2">PlatinMarket Destek</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Bilgilendirme BÃ¶lÃ¼mÃ¼ -->
      <div class="row mt-5">
        <div class="col-12">
          <div class="card border-0 shadow-sm">
            <div class="card-body">
              <h4 class="text-primary mb-4">ğŸ“‹ Dikkat Edilmesi Gerekenler</h4>
              
              <div class="accordion" id="infoAccordion">
                <!-- Trendyol Bilgileri -->
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#trendyolInfo">
                      ğŸ›ï¸ Trendyol
                    </button>
                  </h2>
                  <div id="trendyolInfo" class="accordion-collapse collapse show" data-bs-parent="#infoAccordion">
                    <div class="accordion-body">
                      <ul class="list-unstyled">
                        <li>âœ“ Komisyon OranÄ±nda KDV Dahildir</li>
                        <li>âœ“ Her Sepet Ä°Ã§in Hizmet Bedeli 8.49 TL + KDV (2025 yÄ±lÄ±)</li>
                        <li>âœ“ Mikro Ä°hracat sipariÅŸlerinde Ã¼rÃ¼n baÅŸÄ±na %5 "UluslararasÄ± Hizmet Bedeli" uygulanÄ±r</li>
                        <li>âœ“ Barem Destek UygulamasÄ± kapsamÄ±nda sepet tutarÄ±na gÃ¶re farklÄ± kargo Ã¼cretleri uygulanÄ±r</li>
                        <li>âœ“ Komisyon oranlarÄ± %5 ile %20 arasÄ±nda deÄŸiÅŸir</li>
                      </ul>
                    </div>
                  </div>
                </div>

                <!-- Hepsiburada Bilgileri -->
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#hepsiburadaInfo">
                      ğŸ“¦ Hepsiburada
                    </button>
                  </h2>
                  <div id="hepsiburadaInfo" class="accordion-collapse collapse" data-bs-parent="#infoAccordion">
                    <div class="accordion-body">
                      <ul class="list-unstyled">
                        <li>âœ“ Komisyon OranÄ± Ä°Ã§erisinde KDV Dahil DeÄŸildir</li>
                        <li>âœ“ Her Sepet Ä°Ã§in Hizmet Bedeli 2.50 TL + KDV (2025 yÄ±lÄ±)</li>
                        <li>âœ“ Her Sepet Ä°Ã§in Ä°ÅŸlem Bedeli 7 TL + KDV (2025 yÄ±lÄ±)</li>
                        <li>âœ“ Barem Destek UygulamasÄ± kargo gÃ¶nderileri iÃ§in geÃ§erlidir</li>
                        <li>âœ“ Sepet tutarÄ±na gÃ¶re farklÄ± kargo Ã¼cretleri uygulanÄ±r</li>
                      </ul>
                    </div>
                  </div>
                </div>

                <!-- DiÄŸer Platform Bilgileri -->
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#otherInfo">
                      ğŸ’¼ DiÄŸer Platformlar
                    </button>
                  </h2>
                  <div id="otherInfo" class="accordion-collapse collapse" data-bs-parent="#infoAccordion">
                    <div class="accordion-body">
                      <h6>NasÄ±l HesaplanÄ±yor?</h6>
                      <p>Platformlar tarafÄ±ndan Ã¼rÃ¼n satÄ±ÅŸ fiyatÄ± Ã¼zerinden Komisyon ve Hizmet Bedeli adÄ± altÄ±nda ana giderler kesilmektedir. SonrasÄ±nda kargo Ã¼creti kesilerek kalan tutar hesabÄ±nÄ±za yatÄ±rÄ±lÄ±r.</p>
                      
                      <h6 class="mt-3">Ã–nemli Terimler:</h6>
                      <ul>
                        <li><strong>SatÄ±ÅŸ FiyatÄ±:</strong> Platformda sergilenen KDV Dahil Ã¼rÃ¼n satÄ±ÅŸ fiyatÄ±</li>
                        <li><strong>AlÄ±ÅŸ FiyatÄ±:</strong> ÃœrÃ¼nÃ¼n KDV Dahil alÄ±ÅŸ fiyatÄ±</li>
                        <li><strong>Komisyon:</strong> Platformun yapmÄ±ÅŸ olduÄŸu kesinti</li>
                        <li><strong>Hizmet Bedeli:</strong> Teknolojik alt yapÄ± giderleri ve Ã§aÄŸrÄ± merkezi masraflarÄ±</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const commissionRate = document.getElementById('commissionRate');
      const commissionValue = document.getElementById('commissionValue');
      const calculateBtn = document.getElementById('calculateBtn');
      const clearBtn = document.getElementById('clearBtn');
      const results = document.getElementById('results');
      const noResults = document.getElementById('noResults');

      // Komisyon oranÄ± gÃ¶sterimi
      commissionRate.addEventListener('input', function() {
        commissionValue.textContent = this.value;
      });

      // Kategori seÃ§imi ile komisyon oranÄ± gÃ¼ncelleme
      document.getElementById('productCategory').addEventListener('change', function() {
        const rates = {
          'moda': 20,
          'elektronik': 10,
          'ev-yasam': 15,
          'kozmetik': 15,
          'spor': 12,
          'supermarket': 10,
          'oyuncak': 15,
          'kitap': 12
        };
        
        if (rates[this.value]) {
          commissionRate.value = rates[this.value];
          commissionValue.textContent = rates[this.value];
        }
      });

      // Hesapla butonu
      calculateBtn.addEventListener('click', function() {
        calculateCommission();
      });

      // Temizle butonu
      clearBtn.addEventListener('click', function() {
        document.getElementById('commissionForm').reset();
        commissionValue.textContent = '0';
        results.classList.add('d-none');
        noResults.classList.remove('d-none');
      });

      function calculateCommission() {
        // DeÄŸerleri al
        const purchasePrice = parseFloat(document.getElementById('purchasePrice').value) || 0;
        const salePrice = parseFloat(document.getElementById('salePrice').value) || 0;
        const commissionRateValue = parseFloat(document.getElementById('commissionRate').value) || 0;
        const shippingCost = parseFloat(document.getElementById('shippingCost').value) || 0;
        const serviceFee = parseFloat(document.getElementById('serviceFee').value) || 0;
        const priceIncludesVAT = document.getElementById('priceIncludesVAT').checked;
        const serviceFeeIncludesVAT = document.getElementById('serviceFeeIncludesVAT').checked;
        const shippingPaidBy = document.querySelector('input[name="shippingPaidBy"]:checked').value;
        const vatRate = parseFloat(document.querySelector('input[name="vatRate"]:checked').value) || 0;

        // Hesaplamalar
        let salePriceWithoutVAT, salePriceWithVAT;
        
        if (priceIncludesVAT) {
          salePriceWithVAT = salePrice;
          salePriceWithoutVAT = salePrice / (1 + vatRate/100);
        } else {
          salePriceWithoutVAT = salePrice;
          salePriceWithVAT = salePrice * (1 + vatRate/100);
        }

        const commissionAmount = salePriceWithVAT * (commissionRateValue / 100);
        const serviceFeeAmount = serviceFeeIncludesVAT ? serviceFee : serviceFee * (1 + vatRate/100);
        const shippingAmount = shippingPaidBy === 'seller' ? shippingCost : 0;

        // Net kar/zarar
        const totalCosts = purchasePrice + commissionAmount + serviceFeeAmount + shippingAmount;
        const netProfit = salePriceWithoutVAT - totalCosts;
        const profitPercentage = (netProfit / salePriceWithoutVAT) * 100;

        // SonuÃ§larÄ± gÃ¶ster
        document.getElementById('resultSalePriceWithVAT').textContent = 'â‚º' + salePriceWithVAT.toFixed(2);
        document.getElementById('resultSalePriceWithoutVAT').textContent = 'â‚º' + salePriceWithoutVAT.toFixed(2);
        document.getElementById('resultPurchasePrice').textContent = '-â‚º' + purchasePrice.toFixed(2);
        document.getElementById('resultCommission').textContent = '-â‚º' + commissionAmount.toFixed(2);
        document.getElementById('resultShipping').textContent = '-â‚º' + shippingAmount.toFixed(2);
        document.getElementById('resultServiceFee').textContent = '-â‚º' + serviceFeeAmount.toFixed(2);
        document.getElementById('resultNetProfit').textContent = 'â‚º' + netProfit.toFixed(2);
        document.getElementById('resultProfitPercentage').textContent = '%' + profitPercentage.toFixed(2);

        // Renk ayarÄ±
        const netProfitElement = document.getElementById('resultNetProfit');
        const percentageElement = document.getElementById('resultProfitPercentage');
        
        if (netProfit >= 0) {
          netProfitElement.className = 'h4 fw-bold text-success';
          percentageElement.className = 'badge bg-success fs-6';
        } else {
          netProfitElement.className = 'h4 fw-bold text-danger';
          percentageElement.className = 'badge bg-danger fs-6';
        }

        // SonuÃ§larÄ± gÃ¶ster
        results.classList.remove('d-none');
        noResults.classList.add('d-none');
      }
    });
  </script>

</BaseLayout>